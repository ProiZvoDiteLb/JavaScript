// Игра «Камень, ножницы, бумага»
// Описание: создайте игру «Камень, ножницы, бумага»,
// где пользователь играет против компьютера.
// Требования: Сайт запрашивает у пользователя его выбор (камень, ножницы, бумага).
//  Генерирует случайный выбор компьютера. Определяет победителя и выводит результат.
//   Последовательность создания игры «Камень, ножницы, бумага»:
//   Используйте функцию prompt() для получения выбора пользователя: "камень", "ножницы" или "бумага".
//   Сгенерируйте случайный выбор компьютера.
//   Создайте массив с возможными вариантами: ["камень", "ножницы", "бумага"] .
//   Используйте функцию для генерации случайного индекса и выберите вариант для компьютера.
//   Определите победителя. Сравните выбор пользователя и выбор компьютера.
//   Используйте правила игры для определения победителя: Камень побеждает ножницы.
//    Ножницы побеждают бумагу. Бумага побеждает камень. Если выборы совпадают, это ничья.
//    Выведите результат: Выведите выборы пользователя и компьютера.
//    Сообщите результат игры: победа, поражение или ничья.

// Массив возможных вариантов
const options = ["камень", "ножницы", "бумага"];

// Функция для генерации случайного выбора компьютера
function getComputerChoice() {
  const randomIndex = Math.floor(Math.random() * options.length);
  return options[randomIndex];
}

// Функция для определения победителя
function determineWinner(userChoice, computerChoice) {
  if (userChoice === computerChoice) {
    return "Ничья!";
  } else if (
    (userChoice === "камень" && computerChoice === "ножницы") ||
    (userChoice === "ножницы" && computerChoice === "бумага") ||
    (userChoice === "бумага" && computerChoice === "камень")
  ) {
    return "Вы выиграли!";
  } else {
    return "Вы проиграли!";
  }
}

// Функция для начала игры
function playGame() {
  let userInput;

  do {
    userInput = prompt(
      "Выберите свой вариант: \n1 - камень, \n2 - ножницы, \n3 - бумага?"
    );

    // Проверка на нажатие "Отмена"
    if (userInput === null) {
      alert("Вы вышли из игры.");
      return; // Завершаем выполнение функции
    }

    // Переводим выбор пользователя в строку
    let userChoice;
    if (userInput === "1") {
      userChoice = "камень";
    } else if (userInput === "2") {
      userChoice = "ножницы";
    } else if (userInput === "3") {
      userChoice = "бумага";
    } else {
      alert("Некорректный выбор. Пожалуйста, попробуйте снова.");
      continue; // Продолжаем с начала цикла, если выбор некорректный
    }

    const computerChoice = getComputerChoice();
    const result = determineWinner(userChoice, computerChoice);

    // Формируем итоговое сообщение
    const message = `Ваш выбор: ${userChoice}\nВыбор компьютера: ${computerChoice}\n${result}`;
    alert(message);
  } while (true); // Бесконечный цикл, пока пользователь не нажмет "Отмена"
}
